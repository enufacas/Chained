<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autonomous Lifecycle - Chained</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <a href="index.html" class="home-button" aria-label="Home">ğŸ </a>
            <button class="hamburger" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <h1>ğŸ”„ Autonomous Lifecycle Diagram</h1>
            <p class="tagline">The perpetual motion machine that never stops learning and building</p>
        </div>
        <nav class="main-nav">
            <a href="index.html" class="nav-link">ğŸ  Home</a>
            <a href="agents.html" class="nav-link">ğŸ¤– Agents</a>
            <a href="lifecycle.html" class="nav-link" style="background: rgba(255, 255, 255, 0.2);">ğŸ”„ Lifecycle</a>
            <a href="world-map.html" class="nav-link">ğŸŒ World Map</a>
            <a href="workflow-schedule.html" class="nav-link">ğŸ• Workflows</a>
            <a href="ai-knowledge-graph.html" class="nav-link">ğŸŒ Knowledge</a>
            <a href="copilot-instructions.html" class="nav-link">ğŸ“š Instructions</a>
            <a href="architecture-evolution.html" class="nav-link">ğŸ—ï¸ Architecture</a>
            <a href="ai-friends.html" class="nav-link">ğŸ’¬ AI Friends</a>
            <a href="tv.html" class="nav-link">ğŸ“º Chained TV</a>
            <a href="https://github.com/enufacas/Chained" target="_blank" class="nav-link">ğŸ“‚ GitHub</a>
        </nav>
    </header>

    <main>
        <section class="lifecycle-intro">
            <h2>The Perpetual AI Motion Machine</h2>
            <p class="section-description">
                Chained operates as a fully autonomous, self-evolving system. Every day, it learns from the world, 
                generates ideas, implements features, reviews its own work, and merges changesâ€”all without human intervention. 
                This diagram shows how the system continuously cycles through learning, creating, and improving.
            </p>
        </section>

        <section class="lifecycle-diagram-section">
            <div class="diagram-container">
                <svg id="lifecycle-diagram" viewBox="0 0 800 1200" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <!-- Gradient definitions -->
                        <linearGradient id="gradientBlue" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#0891b2;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="gradientGreen" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#34d399;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="gradientPurple" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#a78bfa;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="gradientOrange" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#fbbf24;stop-opacity:1" />
                        </linearGradient>
                        
                        <!-- Arrow marker -->
                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#06b6d4" />
                        </marker>
                        
                        <!-- Glow filter -->
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>

                    <!-- Center circle - perpetual motion symbol -->
                    <circle cx="400" cy="600" r="280" fill="none" stroke="url(#gradientBlue)" stroke-width="2" stroke-dasharray="10,5" opacity="0.3">
                        <animateTransform
                            attributeName="transform"
                            type="rotate"
                            from="0 400 600"
                            to="360 400 600"
                            dur="60s"
                            repeatCount="indefinite"/>
                    </circle>

                    <!-- Stage 1: Learning Sources -->
                    <g id="stage-1" class="stage-group" data-stage="learning">
                        <rect x="250" y="50" width="300" height="100" rx="15" fill="#1e293b" stroke="url(#gradientBlue)" stroke-width="3"/>
                        <text x="400" y="85" text-anchor="middle" fill="#e2e8f0" font-size="18" font-weight="bold">ğŸ§  Learning Phase</text>
                        <text x="400" y="110" text-anchor="middle" fill="#94a3b8" font-size="13">TLDR Tech (2x/day)</text>
                        <text x="400" y="130" text-anchor="middle" fill="#94a3b8" font-size="13">Hacker News (3x/day)</text>
                    </g>

                    <!-- Arrow 1 -->
                    <path d="M 400 150 L 400 190" stroke="#06b6d4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

                    <!-- Stage 2: AI Friends -->
                    <g id="stage-2" class="stage-group" data-stage="ai-friends">
                        <rect x="250" y="200" width="300" height="80" rx="15" fill="#1e293b" stroke="url(#gradientPurple)" stroke-width="3"/>
                        <text x="400" y="235" text-anchor="middle" fill="#e2e8f0" font-size="18" font-weight="bold">ğŸ‘¥ AI Friends Advice</text>
                        <text x="400" y="260" text-anchor="middle" fill="#94a3b8" font-size="13">Daily conversations & suggestions</text>
                    </g>

                    <!-- Arrow 2 -->
                    <path d="M 400 280 L 400 320" stroke="#06b6d4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

                    <!-- Stage 3: Learning Database -->
                    <g id="stage-3" class="stage-group" data-stage="database">
                        <rect x="250" y="330" width="300" height="80" rx="15" fill="#1e293b" stroke="url(#gradientGreen)" stroke-width="3"/>
                        <text x="400" y="365" text-anchor="middle" fill="#e2e8f0" font-size="18" font-weight="bold">ğŸ’¾ Learning Database</text>
                        <text x="400" y="390" text-anchor="middle" fill="#94a3b8" font-size="13">Saves insights & trends</text>
                    </g>

                    <!-- Arrow 3 -->
                    <path d="M 400 410 L 400 450" stroke="#06b6d4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

                    <!-- Stage 4: Smart Idea Generator -->
                    <g id="stage-4" class="stage-group" data-stage="ideas">
                        <rect x="250" y="460" width="300" height="80" rx="15" fill="#1e293b" stroke="url(#gradientOrange)" stroke-width="3"/>
                        <text x="400" y="495" text-anchor="middle" fill="#e2e8f0" font-size="18" font-weight="bold">ğŸ’¡ Smart Idea Generator</text>
                        <text x="400" y="520" text-anchor="middle" fill="#94a3b8" font-size="13">Trend-aware ideas (Daily at 10 AM)</text>
                    </g>

                    <!-- Arrow 4 -->
                    <path d="M 400 540 L 400 580" stroke="#06b6d4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

                    <!-- Stage 5: Create Issue -->
                    <g id="stage-5" class="stage-group" data-stage="issue">
                        <rect x="250" y="590" width="300" height="80" rx="15" fill="#1e293b" stroke="url(#gradientBlue)" stroke-width="3"/>
                        <text x="400" y="625" text-anchor="middle" fill="#e2e8f0" font-size="18" font-weight="bold">ğŸ“‹ Create GitHub Issue</text>
                        <text x="400" y="650" text-anchor="middle" fill="#94a3b8" font-size="13">Auto-labeled & assigned</text>
                    </g>

                    <!-- Arrow 5 -->
                    <path d="M 400 670 L 400 710" stroke="#06b6d4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

                    <!-- Stage 6: Copilot Assignment -->
                    <g id="stage-6" class="stage-group" data-stage="assign">
                        <rect x="250" y="720" width="300" height="80" rx="15" fill="#1e293b" stroke="url(#gradientPurple)" stroke-width="3"/>
                        <text x="400" y="755" text-anchor="middle" fill="#e2e8f0" font-size="18" font-weight="bold">ğŸ¤– Copilot Assignment</text>
                        <text x="400" y="780" text-anchor="middle" fill="#94a3b8" font-size="13">AI takes ownership (Every 30min)</text>
                    </g>

                    <!-- Arrow 6 -->
                    <path d="M 400 800 L 400 840" stroke="#06b6d4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

                    <!-- Stage 7: Create PR -->
                    <g id="stage-7" class="stage-group" data-stage="pr">
                        <rect x="250" y="850" width="300" height="80" rx="15" fill="#1e293b" stroke="url(#gradientGreen)" stroke-width="3"/>
                        <text x="400" y="885" text-anchor="middle" fill="#e2e8f0" font-size="18" font-weight="bold">ğŸ”§ Create Pull Request</text>
                        <text x="400" y="910" text-anchor="middle" fill="#94a3b8" font-size="13">AI implements the feature</text>
                    </g>

                    <!-- Arrow 7 -->
                    <path d="M 400 930 L 400 970" stroke="#06b6d4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

                    <!-- Stage 8: Auto Review -->
                    <g id="stage-8" class="stage-group" data-stage="review">
                        <rect x="250" y="980" width="300" height="80" rx="15" fill="#1e293b" stroke="url(#gradientOrange)" stroke-width="3"/>
                        <text x="400" y="1015" text-anchor="middle" fill="#e2e8f0" font-size="18" font-weight="bold">ğŸ” Auto Review</text>
                        <text x="400" y="1040" text-anchor="middle" fill="#94a3b8" font-size="13">AI reviews AI code (Every 15min)</text>
                    </g>

                    <!-- Arrow 8 -->
                    <path d="M 550 1020 Q 650 1020 650 920 L 650 150 Q 650 50 550 50" stroke="#06b6d4" stroke-width="3" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>

                    <!-- Stage 9: Auto Merge (on the side) -->
                    <g id="stage-9" class="stage-group" data-stage="merge">
                        <rect x="580" y="500" width="180" height="100" rx="15" fill="#1e293b" stroke="url(#gradientGreen)" stroke-width="3"/>
                        <text x="670" y="535" text-anchor="middle" fill="#e2e8f0" font-size="16" font-weight="bold">âœ… Auto Merge</text>
                        <text x="670" y="560" text-anchor="middle" fill="#94a3b8" font-size="11">No human</text>
                        <text x="670" y="578" text-anchor="middle" fill="#94a3b8" font-size="11">approval</text>
                        <text x="670" y="596" text-anchor="middle" fill="#94a3b8" font-size="11">needed!</text>
                    </g>

                    <!-- Stage 10: Progress Tracking (on the side) -->
                    <g id="stage-10" class="stage-group" data-stage="progress">
                        <rect x="40" y="500" width="180" height="100" rx="15" fill="#1e293b" stroke="url(#gradientPurple)" stroke-width="3"/>
                        <text x="130" y="535" text-anchor="middle" fill="#e2e8f0" font-size="16" font-weight="bold">ğŸ“Š Progress</text>
                        <text x="130" y="560" text-anchor="middle" fill="#94a3b8" font-size="11">Timeline</text>
                        <text x="130" y="578" text-anchor="middle" fill="#94a3b8" font-size="11">updates</text>
                        <text x="130" y="596" text-anchor="middle" fill="#94a3b8" font-size="11">(Every 6h)</text>
                    </g>

                    <!-- Perpetual Motion Text -->
                    <text x="400" y="1150" text-anchor="middle" fill="#06b6d4" font-size="22" font-weight="bold">
                        â™¾ï¸ The cycle continues forever...
                    </text>
                    <text x="400" y="1180" text-anchor="middle" fill="#10b981" font-size="16" font-style="italic">
                        Getting smarter with each iteration!
                    </text>
                </svg>
            </div>

            <!-- Stage Details Panel -->
            <div id="stage-details" class="stage-details-panel">
                <h3>ğŸ‘† Hover over any stage to see details</h3>
                <p>Click on a stage to lock the information</p>
            </div>
        </section>

        <section class="lifecycle-stats">
            <h2>ğŸ“ˆ Lifecycle Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ§ </div>
                    <h3 id="learning-count">Loading...</h3>
                    <p>Learning Sessions</p>
                    <span class="stat-detail">Daily from TLDR & HN</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ’¡</div>
                    <h3 id="ideas-count">Loading...</h3>
                    <p>Ideas Generated</p>
                    <span class="stat-detail">Trend-aware & adaptive</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“‹</div>
                    <h3 id="issues-count">Loading...</h3>
                    <p>Issues Created</p>
                    <span class="stat-detail">Auto-labeled & assigned</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ”§</div>
                    <h3 id="prs-count">Loading...</h3>
                    <p>PRs Generated</p>
                    <span class="stat-detail">AI-implemented features</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">âœ…</div>
                    <h3 id="merged-count">Loading...</h3>
                    <p>Auto-Merged</p>
                    <span class="stat-detail">No human approval</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">â±ï¸</div>
                    <h3 id="avg-cycle-time">Loading...</h3>
                    <p>Avg Cycle Time</p>
                    <span class="stat-detail">Idea to merged code</span>
                </div>
            </div>
        </section>

        <section class="workflow-runs-section">
            <h2>ğŸ”„ Workflow Runs & Statistics</h2>
            <p class="section-description">
                Detailed view of all autonomous workflow executions with filtering, sorting, and comprehensive metrics.
            </p>

            <!-- Filters and Controls -->
            <div class="workflow-controls">
                <div class="control-group">
                    <label for="search-workflow">ğŸ” Search:</label>
                    <input type="text" id="search-workflow" placeholder="Search by workflow name or title...">
                </div>
                <div class="control-group">
                    <label for="filter-status">Status:</label>
                    <select id="filter-status">
                        <option value="">All</option>
                        <option value="completed">Completed</option>
                        <option value="in_progress">In Progress</option>
                        <option value="queued">Queued</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="filter-conclusion">Conclusion:</label>
                    <select id="filter-conclusion">
                        <option value="">All</option>
                        <option value="success">Success</option>
                        <option value="failure">Failure</option>
                        <option value="action_required">Action Required</option>
                        <option value="skipped">Skipped</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="items-per-page">Show:</label>
                    <select id="items-per-page">
                        <option value="25">25</option>
                        <option value="50" selected>50</option>
                        <option value="100">100</option>
                        <option value="all">All</option>
                    </select>
                </div>
                <button id="reset-filters" class="btn-secondary">Reset Filters</button>
            </div>

            <!-- Workflow Statistics Summary -->
            <div class="workflow-summary-cards">
                <div class="summary-card">
                    <div class="summary-icon">ğŸ“Š</div>
                    <div class="summary-content">
                        <h4 id="total-runs">0</h4>
                        <p>Total Runs</p>
                    </div>
                </div>
                <div class="summary-card">
                    <div class="summary-icon">âœ…</div>
                    <div class="summary-content">
                        <h4 id="success-runs">0</h4>
                        <p>Successful</p>
                    </div>
                </div>
                <div class="summary-card">
                    <div class="summary-icon">âŒ</div>
                    <div class="summary-content">
                        <h4 id="failed-runs">0</h4>
                        <p>Failed</p>
                    </div>
                </div>
                <div class="summary-card">
                    <div class="summary-icon">ğŸ”„</div>
                    <div class="summary-content">
                        <h4 id="success-rate">0%</h4>
                        <p>Success Rate</p>
                    </div>
                </div>
            </div>

            <!-- Workflow Runs Table -->
            <div class="table-container">
                <table id="workflow-runs-table" class="workflow-table">
                    <thead>
                        <tr>
                            <th data-sort="name" class="sortable">Workflow Name <span class="sort-indicator">â¬</span></th>
                            <th data-sort="displayTitle" class="sortable">Display Title <span class="sort-indicator">â¬</span></th>
                            <th data-sort="status" class="sortable">Status <span class="sort-indicator">â¬</span></th>
                            <th data-sort="conclusion" class="sortable">Conclusion <span class="sort-indicator">â¬</span></th>
                            <th data-sort="createdAt" class="sortable">Created At <span class="sort-indicator">â¬</span></th>
                            <th>Run ID</th>
                        </tr>
                    </thead>
                    <tbody id="workflow-runs-body">
                        <tr>
                            <td colspan="6" class="loading-cell">Loading workflow data...</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="pagination-controls">
                <button id="prev-page" class="btn-secondary" disabled>â† Previous</button>
                <span id="page-info">Page 1 of 1</span>
                <button id="next-page" class="btn-secondary" disabled>Next â†’</button>
            </div>
        </section>

        <section class="lifecycle-features">
            <h2>âœ¨ Key Features of the Autonomous Cycle</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”„</div>
                    <h3>Truly Perpetual</h3>
                    <p>The system runs 24/7 without any human intervention. Scheduled workflows ensure continuous operation.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ§ </div>
                    <h3>Self-Learning</h3>
                    <p>Learns from TLDR Tech and Hacker News multiple times daily, staying current with tech trends.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ¯</div>
                    <h3>Trend-Aware</h3>
                    <p>Ideas are generated based on recent learnings, ensuring relevance to current technology landscape.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ¤–</div>
                    <h3>Fully Autonomous</h3>
                    <p>From idea generation to code review and merge - everything is automated without human approval.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ‘¥</div>
                    <h3>AI Collaboration</h3>
                    <p>Multiple AI agents work together - learning agents, idea generators, code reviewers, and more.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“Š</div>
                    <h3>Self-Monitoring</h3>
                    <p>Tracks its own progress, monitors health, and adapts based on success metrics.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”’</div>
                    <h3>Safe & Secure</h3>
                    <p>Built-in validation, label-based routing, and PR-based changes ensure system safety.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“š</div>
                    <h3>Instruction-Guided</h3>
                    <p>Agents follow a <a href="copilot-instructions.html" style="color: #667eea;">three-layer instruction system</a> combining global, path-specific, and agent-specific guidance.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸš€</div>
                    <h3>Ever-Evolving</h3>
                    <p>Each cycle improves the system, building on previous learnings and implementations.</p>
                </div>
            </div>
        </section>

        <section class="workflow-schedules-section">
            <h2>â° Autonomous Workflow Schedules</h2>
            <p class="section-description">
                All workflows run automatically on precise schedules. No manual intervention required.
            </p>
            <div class="schedules-grid">
                <div class="schedule-card">
                    <div class="schedule-time">08:00 & 20:00 UTC</div>
                    <h3>ğŸ“° TLDR Tech Learning</h3>
                    <p>Fetches and analyzes tech news, AI updates, and DevOps trends</p>
                </div>
                <div class="schedule-card">
                    <div class="schedule-time">07:00, 13:00 & 19:00 UTC</div>
                    <h3>ğŸ’¬ Hacker News Learning</h3>
                    <p>Collects top technical discussions and trending topics</p>
                </div>
                <div class="schedule-card">
                    <div class="schedule-time">Daily at 09:00 UTC</div>
                    <h3>ğŸ’¡ Idea Generation</h3>
                    <p>Generates creative, trend-aware project ideas</p>
                </div>
                <div class="schedule-card">
                    <div class="schedule-time">Every 30 minutes</div>
                    <h3>ğŸ”§ Issue to PR</h3>
                    <p>Converts assigned issues into pull requests</p>
                </div>
                <div class="schedule-card">
                    <div class="schedule-time">Every 15 minutes</div>
                    <h3>ğŸ” Auto Review & Merge</h3>
                    <p>Reviews AI code and merges approved PRs</p>
                </div>
                <div class="schedule-card">
                    <div class="schedule-time">Every 6 hours</div>
                    <h3>ğŸ“Š Timeline Update</h3>
                    <p>Updates metrics and documentation</p>
                </div>
                <div class="schedule-card">
                    <div class="schedule-time">Every 12 hours</div>
                    <h3>ğŸ“ˆ Progress Tracking</h3>
                    <p>Analyzes success rates and generates reports</p>
                </div>
                <div class="schedule-card">
                    <div class="schedule-time">Every 12 hours</div>
                    <h3>ğŸ¥ Health Monitoring</h3>
                    <p>Checks workflow health and detects issues</p>
                </div>
            </div>
        </section>

        <section class="documentation-links">
            <h2>ğŸ“š Learn More</h2>
            <div class="docs-grid">
                <a href="https://github.com/enufacas/Chained/blob/main/README.md" class="doc-card" target="_blank">
                    <div class="doc-icon">ğŸ“–</div>
                    <h3>README</h3>
                    <p>Complete project documentation and setup guide</p>
                </a>
                <a href="https://github.com/enufacas/Chained/blob/main/AUTONOMOUS_CYCLE.md" class="doc-card" target="_blank">
                    <div class="doc-icon">ğŸ”„</div>
                    <h3>Autonomous Cycle</h3>
                    <p>Detailed explanation of the perpetual motion machine</p>
                </a>
                <a href="copilot-instructions.html" class="doc-card">
                    <div class="doc-icon">ğŸ“š</div>
                    <h3>Instruction System</h3>
                    <p>How agents receive guidance through layered instructions</p>
                </a>
                <a href="https://github.com/enufacas/Chained/blob/main/.github/workflows/" class="doc-card" target="_blank">
                    <div class="doc-icon">âš™ï¸</div>
                    <h3>Workflows</h3>
                    <p>Browse all GitHub Actions workflows</p>
                </a>
                <a href="index.html" class="doc-card">
                    <div class="doc-icon">ğŸ </div>
                    <h3>Timeline</h3>
                    <p>View the complete timeline of autonomous actions</p>
                </a>
                <a href="agents.html" class="doc-card">
                    <div class="doc-icon">ğŸ¤–</div>
                    <h3>Agent Leaderboard</h3>
                    <p>See which AI agents are thriving in the ecosystem</p>
                </a>
            </div>
        </section>
    </main>

    <footer>
        <p>Last updated: <span id="last-updated">Loading...</span></p>
        <p><a href="https://github.com/enufacas/Chained" target="_blank">View on GitHub</a></p>
    </footer>

    <script>
        // Stage details data
        const stageDetails = {
            'learning': {
                title: 'ğŸ§  Learning Phase',
                description: 'The system continuously learns from external sources to stay current with technology trends.',
                details: [
                    'ğŸ“° TLDR Tech: Twice daily (08:00 & 20:00 UTC)',
                    'ğŸ’¬ Hacker News: Three times daily (07:00, 13:00, 19:00 UTC)',
                    'ğŸ¯ Focus: AI updates, DevOps trends, technical innovations',
                    'ğŸ’¾ Storage: All learnings saved to learnings/ directory',
                    'ğŸ” Analysis: Extracts key insights and trending topics'
                ]
            },
            'ai-friends': {
                title: 'ğŸ‘¥ AI Friends Advice',
                description: 'Daily conversations with specialized AI friends provide guidance and suggestions.',
                details: [
                    'ğŸ¤ Multiple AI personalities with different expertise',
                    'ğŸ’¬ Daily conversations about technology and trends',
                    'ğŸ’¡ Suggestions for improvements and new features',
                    'ğŸ“ Learning from AI-to-AI interactions',
                    'ğŸ“ Advice stored and used for decision making'
                ]
            },
            'database': {
                title: 'ğŸ’¾ Learning Database',
                description: 'A centralized repository of all learnings, insights, and AI advice.',
                details: [
                    'ğŸ“š Structured storage of tech news and discussions',
                    'ğŸ”— Links trends across different sources',
                    'ğŸ“Š Enables pattern recognition and trend analysis',
                    'ğŸ’­ Informs the idea generation process',
                    'ğŸ”„ Continuously updated with new learnings'
                ]
            },
            'ideas': {
                title: 'ğŸ’¡ Smart Idea Generator',
                description: 'Generates creative, trend-aware project ideas based on recent learnings.',
                details: [
                    'â° Runs daily at 10:00 UTC',
                    'ğŸ§  Uses learnings from TLDR & Hacker News',
                    'ğŸ¯ Generates AI-focused, relevant ideas',
                    'âœ¨ Considers current technology landscape',
                    'ğŸ“‹ Automatically creates GitHub issues'
                ]
            },
            'issue': {
                title: 'ğŸ“‹ Create GitHub Issue',
                description: 'Automatically creates well-structured GitHub issues for each idea.',
                details: [
                    'ğŸ“ Detailed issue description with context',
                    'ğŸ·ï¸ Auto-labeled: ai-generated, enhancement',
                    'ğŸ¯ Clear acceptance criteria',
                    'ğŸ”— Links to related learnings',
                    'ğŸ¤– Ready for AI assignment'
                ]
            },
            'assign': {
                title: 'ğŸ¤– Agent Assignment',
                description: 'Issues are intelligently matched to specialized agents based on their expertise.',
                details: [
                    'â° Runs every 30 minutes',
                    'ğŸ¯ Matches issue keywords to agent specializations',
                    'ğŸ“š Agents receive layered instructions (base + path-specific + agent-specific)',
                    'ğŸ·ï¸ Adds agent:{agent-name} label',
                    'ğŸ“Œ Issue updated with agent directive',
                    'ğŸ”” Agent mentioned for attribution and tracking'
                ]
            },
            'pr': {
                title: 'ğŸ”§ Create Pull Request',
                description: 'AI implements the feature and creates a pull request with the changes.',
                details: [
                    'ğŸ’» AI writes the actual code',
                    'ğŸ“¦ Creates branch: copilot/issue-{number}',
                    'ğŸ“„ Comprehensive PR description',
                    'ğŸ”— Links to original issue',
                    'âœ… Includes implementation details'
                ]
            },
            'review': {
                title: 'ğŸ” Auto Review',
                description: 'AI reviews AI-written code automatically without human intervention.',
                details: [
                    'â° Runs every 15 minutes',
                    'ğŸ¤– AI reviews AI code',
                    'âœ… Validates code quality and safety',
                    'ğŸ”’ Checks labels and permissions',
                    'ğŸ‘ Approves if all criteria met'
                ]
            },
            'merge': {
                title: 'âœ… Auto Merge',
                description: 'Approved PRs are automatically merged without any human approval.',
                details: [
                    'ğŸš€ Squash merge to main branch',
                    'ğŸ—‘ï¸ Deletes source branch',
                    'ğŸ’¬ Comments on linked issue',
                    'ğŸ”’ Only for trusted sources',
                    'âœ¨ No human intervention needed!'
                ]
            },
            'progress': {
                title: 'ğŸ“Š Progress Tracking',
                description: 'The system tracks its own progress and generates analytics.',
                details: [
                    'â° Updates every 6 hours',
                    'ğŸ“ˆ Calculates completion rates',
                    'ğŸ“Š Tracks autonomous actions',
                    'ğŸ’¾ Updates timeline data',
                    'ğŸ” Monitors success metrics'
                ]
            }
        };

        // Interactive stage hover/click functionality
        let lockedStage = null;
        
        document.querySelectorAll('.stage-group').forEach(group => {
            group.style.cursor = 'pointer';
            
            group.addEventListener('mouseenter', (e) => {
                if (!lockedStage) {
                    const stage = group.dataset.stage;
                    showStageDetails(stage);
                    group.style.opacity = '0.8';
                }
            });
            
            group.addEventListener('mouseleave', (e) => {
                if (!lockedStage) {
                    group.style.opacity = '1';
                }
            });
            
            group.addEventListener('click', (e) => {
                const stage = group.dataset.stage;
                if (lockedStage === stage) {
                    lockedStage = null;
                    document.querySelectorAll('.stage-group').forEach(g => g.style.opacity = '1');
                } else {
                    lockedStage = stage;
                    showStageDetails(stage);
                    document.querySelectorAll('.stage-group').forEach(g => {
                        g.style.opacity = g.dataset.stage === stage ? '1' : '0.5';
                    });
                }
            });
        });

        function showStageDetails(stage) {
            const details = stageDetails[stage];
            if (!details) return;
            
            const panel = document.getElementById('stage-details');
            panel.innerHTML = `
                <h3>${details.title}</h3>
                <p class="stage-description">${details.description}</p>
                <ul class="stage-details-list">
                    ${details.details.map(d => `<li>${d}</li>`).join('')}
                </ul>
                <p class="stage-hint">ğŸ’¡ Click to lock this information</p>
            `;
        }

        // Load statistics
        async function loadStatistics() {
            try {
                // Load from stats.json generated by system-monitor workflow
                const response = await fetch('data/stats.json');
                if (response.ok) {
                    const data = await response.json();
                    updateStats(data);
                } else {
                    console.warn('Could not load stats.json, using defaults');
                    setDefaultStats();
                }
            } catch (error) {
                console.error('Error loading statistics:', error);
                setDefaultStats();
            }
        }

        function updateStats(data) {
            // Map stats.json fields to lifecycle display
            // Learning sessions - use actual count from stats
            const learningCount = data.learning_sessions ? `${data.learning_sessions}` : '150+';
            
            // Ideas Generated - use ai_generated from stats
            const ideasCount = data.ai_generated ? `${data.ai_generated}` : '50+';
            
            // Issues Created - use total_issues from stats
            const issuesCount = data.total_issues ? `${data.total_issues}` : '45+';
            
            // PRs Generated - use total_prs from stats
            const prsCount = data.total_prs ? `${data.total_prs}` : '40+';
            
            // Auto-Merged - use merged_prs from stats
            const mergedCount = data.merged_prs ? `${data.merged_prs}` : '35+';
            
            // Avg Cycle Time - calculate or estimate
            const avgCycleTime = '< 24h'; // Could be calculated from issue/PR timestamps
            
            document.getElementById('learning-count').textContent = learningCount;
            document.getElementById('ideas-count').textContent = ideasCount;
            document.getElementById('issues-count').textContent = issuesCount;
            document.getElementById('prs-count').textContent = prsCount;
            document.getElementById('merged-count').textContent = mergedCount;
            document.getElementById('avg-cycle-time').textContent = avgCycleTime;
            
            // Log data freshness
            if (data.last_updated) {
                const lastUpdated = new Date(data.last_updated);
                const hoursAgo = Math.round((Date.now() - lastUpdated.getTime()) / (1000 * 60 * 60));
                console.log(`Stats last updated: ${lastUpdated.toLocaleString()} (${hoursAgo} hours ago)`);
            }
        }

        function setDefaultStats() {
            // Fallback values if stats.json can't be loaded
            document.getElementById('learning-count').textContent = '150+';
            document.getElementById('ideas-count').textContent = '50+';
            document.getElementById('issues-count').textContent = '45+';
            document.getElementById('prs-count').textContent = '40+';
            document.getElementById('merged-count').textContent = '35+';
            document.getElementById('avg-cycle-time').textContent = '< 24h';
        }

        // Update last updated time
        document.getElementById('last-updated').textContent = new Date().toLocaleString();

        // Load statistics on page load
        loadStatistics();

        // ===== Workflow Runs Table Functionality =====
        let workflowData = [];
        let filteredData = [];
        let currentPage = 1;
        let itemsPerPage = 50;
        let sortColumn = 'createdAt';
        let sortDirection = 'desc';

        // Load workflow data
        async function loadWorkflowData() {
            try {
                const response = await fetch('data/workflows.json');
                if (response.ok) {
                    workflowData = await response.json();
                    filteredData = [...workflowData];
                    updateWorkflowSummary();
                    applyFiltersAndSort();
                } else {
                    showError('Unable to load workflow data');
                }
            } catch (error) {
                console.error('Error loading workflow data:', error);
                showError('Error loading workflow data');
            }
        }

        // Update summary statistics
        function updateWorkflowSummary() {
            const total = workflowData.length;
            const successful = workflowData.filter(w => w.conclusion === 'success').length;
            const failed = workflowData.filter(w => w.conclusion === 'failure').length;
            const successRate = total > 0 ? ((successful / total) * 100).toFixed(1) : 0;

            document.getElementById('total-runs').textContent = total;
            document.getElementById('success-runs').textContent = successful;
            document.getElementById('failed-runs').textContent = failed;
            document.getElementById('success-rate').textContent = successRate + '%';
        }

        // Apply filters
        function applyFilters() {
            const searchTerm = document.getElementById('search-workflow').value.toLowerCase();
            const statusFilter = document.getElementById('filter-status').value;
            const conclusionFilter = document.getElementById('filter-conclusion').value;

            filteredData = workflowData.filter(run => {
                const matchesSearch = !searchTerm || 
                    run.name.toLowerCase().includes(searchTerm) ||
                    run.displayTitle.toLowerCase().includes(searchTerm);
                const matchesStatus = !statusFilter || run.status === statusFilter;
                const matchesConclusion = !conclusionFilter || run.conclusion === conclusionFilter;
                
                return matchesSearch && matchesStatus && matchesConclusion;
            });

            currentPage = 1;
        }

        // Sort data
        function sortData() {
            filteredData.sort((a, b) => {
                let aVal = a[sortColumn] || '';
                let bVal = b[sortColumn] || '';

                // Handle date sorting
                if (sortColumn === 'createdAt') {
                    aVal = new Date(aVal);
                    bVal = new Date(bVal);
                }

                if (aVal < bVal) return sortDirection === 'asc' ? -1 : 1;
                if (aVal > bVal) return sortDirection === 'asc' ? 1 : -1;
                return 0;
            });
        }

        // Apply filters and sorting
        function applyFiltersAndSort() {
            applyFilters();
            sortData();
            renderTable();
        }

        // Render table
        function renderTable() {
            const tbody = document.getElementById('workflow-runs-body');
            const itemsPerPageSelect = document.getElementById('items-per-page');
            itemsPerPage = itemsPerPageSelect.value === 'all' ? filteredData.length : parseInt(itemsPerPageSelect.value);

            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, filteredData.length);
            const pageData = filteredData.slice(startIndex, endIndex);

            if (pageData.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="no-data-cell">No workflow runs found</td></tr>';
                updatePagination();
                return;
            }

            tbody.innerHTML = pageData.map(run => {
                const statusBadge = getStatusBadge(run.status);
                const conclusionBadge = getConclusionBadge(run.conclusion);
                const createdDate = new Date(run.createdAt).toLocaleString();
                
                return `
                    <tr>
                        <td class="workflow-name">${escapeHtml(run.name)}</td>
                        <td class="workflow-title">${escapeHtml(run.displayTitle)}</td>
                        <td>${statusBadge}</td>
                        <td>${conclusionBadge}</td>
                        <td class="workflow-date">${createdDate}</td>
                        <td class="workflow-id">${run.databaseId}</td>
                    </tr>
                `;
            }).join('');

            updatePagination();
        }

        // Get status badge HTML
        function getStatusBadge(status) {
            const badges = {
                'completed': '<span class="badge badge-completed">âœ“ Completed</span>',
                'in_progress': '<span class="badge badge-in-progress">âŸ³ In Progress</span>',
                'queued': '<span class="badge badge-queued">â‹¯ Queued</span>',
                '': '<span class="badge badge-unknown">? Unknown</span>'
            };
            return badges[status] || badges[''];
        }

        // Get conclusion badge HTML
        function getConclusionBadge(conclusion) {
            const badges = {
                'success': '<span class="badge badge-success">âœ“ Success</span>',
                'failure': '<span class="badge badge-failure">âœ— Failure</span>',
                'action_required': '<span class="badge badge-action">âš  Action Required</span>',
                'skipped': '<span class="badge badge-skipped">âŠ˜ Skipped</span>',
                '': '<span class="badge badge-none">â”€ None</span>'
            };
            return badges[conclusion] || badges[''];
        }

        // Update pagination controls
        function updatePagination() {
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            document.getElementById('page-info').textContent = `Page ${currentPage} of ${totalPages} (${filteredData.length} runs)`;
            document.getElementById('prev-page').disabled = currentPage === 1;
            document.getElementById('next-page').disabled = currentPage >= totalPages;
        }

        // Escape HTML to prevent XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Show error message
        function showError(message) {
            const tbody = document.getElementById('workflow-runs-body');
            tbody.innerHTML = `<tr><td colspan="6" class="error-cell">âš ï¸ ${message}</td></tr>`;
        }

        // Event Listeners
        document.getElementById('search-workflow').addEventListener('input', applyFiltersAndSort);
        document.getElementById('filter-status').addEventListener('change', applyFiltersAndSort);
        document.getElementById('filter-conclusion').addEventListener('change', applyFiltersAndSort);
        document.getElementById('items-per-page').addEventListener('change', () => {
            currentPage = 1;
            renderTable();
        });

        document.getElementById('reset-filters').addEventListener('click', () => {
            document.getElementById('search-workflow').value = '';
            document.getElementById('filter-status').value = '';
            document.getElementById('filter-conclusion').value = '';
            document.getElementById('items-per-page').value = '50';
            applyFiltersAndSort();
        });

        document.getElementById('prev-page').addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                renderTable();
            }
        });

        document.getElementById('next-page').addEventListener('click', () => {
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                renderTable();
            }
        });

        // Add sorting to table headers
        document.querySelectorAll('.sortable').forEach(header => {
            header.addEventListener('click', () => {
                const column = header.dataset.sort;
                if (sortColumn === column) {
                    sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
                } else {
                    sortColumn = column;
                    sortDirection = 'asc';
                }

                // Update sort indicators
                document.querySelectorAll('.sortable').forEach(h => {
                    const indicator = h.querySelector('.sort-indicator');
                    if (h.dataset.sort === column) {
                        indicator.textContent = sortDirection === 'asc' ? 'â–²' : 'â–¼';
                        h.classList.add('sorted');
                    } else {
                        indicator.textContent = 'â¬';
                        h.classList.remove('sorted');
                    }
                });

                applyFiltersAndSort();
            });
        });

        // Load workflow data on page load
        loadWorkflowData();
    </script>
    <script src="navigation.js"></script>
</body>
</html>
